var b_checkPhone=!1,b_checkPwd=!1,b_checkEmail=!1,b_verify_code=!1;console.log(b_checkPhone),$(function(){function e(){var e=document.getElementById("phone"),o=/\d{11}/;return o.test(e.value)?(b_checkPhone=!0,!0):($("#phone").after("<p style='text-align: center; color: #900'>请输入正确的手机号码</P>"),$("#phone").focus(function(){$("#phone").next("p").remove()}),!1)}function o(){var e=document.getElementById("pwd");return e.value.length<6?($("#pwd").after("<p style='text-align: center; color: #900'>密码长度不能小于6位</P>"),$("#pwd").focus(function(){$("#pwd").next("p").remove()}),!1):(b_checkPwd=!0,!0)}function n(){var e=$("#email").val();return e.indexOf("@")<=0?($("#email").after("<p style='text-align: center; color: #900'>邮箱格式不正确</P>"),$("#email").focus(function(){$("#email").next("p").remove()}),!1):(b_checkEmail=!0,!0)}$("#yzm").click(function(){function o(e){0==t?(e.prop("disabled",!1),e.val("获取验证码"),clearInterval(c),e.css("border","1px solid #0d2a78"),t=60):(e.css("border"," 0px"),--t,e.prop("disabled",!0),e.val(""+t+"s"))}var n={phone:"+86 "+$("#phone").val()};if(e(),b_checkPhone){var c,t=60;c=setInterval(function(){o($("#yzm"))},1e3),0==t&&clearInterval(c),$.ajax({type:"post",url:baseUrl+"/verify_code/send",data:n,success:function(e){}})}return!1}),$("#signUp").click(function(){$("p").remove(),e()&&o()&&n();var c=$.cookie("key_cookie"),t=$.cookie("source");console.log(c);var r={phone:"+86 "+$("#phone").val(),verify_code:$("#id_verify").val(),password:$("#pwd").val(),email:$("#email").val(),questions:c,source:t};return $("#id_verify").val().length>=6&&(b_verify_code=!0),b_checkPhone&&b_checkPwd&&b_checkEmail&&b_verify_code&&$.ajax({type:"post",url:baseUrl+"/auth/signup",data:r,success:function(e){if(1==e.code){e.body;$("form").remove(),$("div").remove(".bg-logo"),$(".mian").append("<p style='font-size: 18px; color: #0d2a78; letter-spacing: 1px; text-align: center; margin: 0 auto; padding-top: 230px; line-height: 2em;'>恭喜您"+e.msg+"<br>您的抽奖码:"+e.no+"</p><p style='font-size: 15px;color: #666; margin: 0 auto; line-height: 20px; text-align: center; padding: 0 50px;'>请您将此页面展示给我们的工作人员,即可抽取美元奖励!</p>")}else(e.code=-1)&&$("#infor").html(e.msg)}}),!1})});