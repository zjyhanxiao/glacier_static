$(document).ready(function(){var n={};n.ui={verdicts:["<span class='fa fa-exclamation-triangle'></span>请设置密码复杂度更高的密码","通过;不过复杂度再高一点,更安全","<span class='fa fa-thumbs-up'></span>安全","<span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span>很安全","<span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span>非常安全!"],showPopover:!0,popoverPlacement:"top"},n.common={onLoad:function(){$("#messages").text("Start typing password")},onKeyUp:function(n,e){if(e.verdictLevel<1){var t=$("#next_button");t.attr("disabled","disabled")}else{var t=$("#next_button");t.removeAttr("disabled")}}},$(":password").pwstrength(n)}),$(document).ready(function(){function n(){var n={phone:$("#id_telephone").val(),verify_code:$("#id_verify").val(),password:$("#id_password").val(),email:$("#id_email").val(),referral_code:$("#id_referral_code").val(),is_international_investor:$("#form_02").find(".is_international_investor input[type='radio']:checked").val()};return n}$(".registration-form .div-group:first").fadeIn("slow"),$('.registration-form input[type="text"], .registration-form input[type="password"], .registration-form textarea').on("focus",function(){$(this).removeClass("input-error")});var e=!0;$("#get_verify").click(function(){var n=$(this);$(this).prop("disabled",!0);var t=$("#id_telephone").val(),a=$("#countries_phone").val(),i=null,r=60;return i=setInterval(function(){$("#get_verify").html(r+"秒后重发"),r--,0==r&&(clearInterval(i),n.prop("disabled",!1),n.html("重新发送"),r=60)},1e3),("China"!=a&&t.length>6||"China"==a&&t.length>=15)&&$.ajax({type:"post",url:"http://101.201.112.171:8082/web/verify_code/send",data:{phone:t},dataType:"json",success:function(n){1==n&&(e=!0),0==n&&alert("")}}),!1}),$(".registration-form #first-page-next-btn").on("click",function(){var n=$(this).parents(".div-group"),t=!0,a=n.find('input[name="phone"]'),i=n.find('input[name="verifyCode"]'),r=n.find('input[type="password"]'),s=n.find('input[name="email"]');a.val().length<6?(a.addClass("input-error"),t=!1,"China"!=$("#countries_phone").val()&&a.val().length<15&&(a.addClass("input-error"),t=!1)):i.val().length<6?(i.addClass("input-error"),t=!1):""==r.val()?(r.addClass("input-error"),t=!1):""==s.val()?(s.addClass("input-error"),t=!1):n.find(".input-error").removeClass("input-error"),n.find('input[name="phone"], input[name="verifyCode"], input[type="password"], input[name="email"]').each(function(){return"China"==$("#countries_phone").val()&&$('input[name="phone"]').val().length<15?($(this).addClass("input-error"),t=!1,!1):"China"!=$("#countries_phone").val()&&$('input[name="phone"]').val().length<6?($(this).addClass("input-error"),t=!1,!1):""==$(this).val()?($(this).addClass("input-error"),t=!1,!1):$('input[name="verifyCode"]').val().length<6?($(this).addClass("input-error"),t=!1,!1):void $(this).removeClass("input-error")}),console.log(e),e?t&&n.fadeOut(400,function(){$("#page1").next().fadeIn()}):alert("请获取手机验证码!")}),$(".registration-form .btn-previous").on("click",function(){$(this).parents("#page2").fadeOut(400,function(){$(this).prev().fadeIn()})}),$(".registration-form #investor-type-next-btn").on("click",function(){var n=$(this).parents("#page2"),e=!0,t=$("input[name=is_international_investor]:checked").val();n.find('input[name="is_international_investor"]').each(function(){$('input[name="is_international_investor"]').is(":checked")?$(this).removeClass("input-error"):($(this).addClass("input-error"),e=!1,$(".error-div").html("<div class='alert alert-warning'>请选择您的投资者类型</div>"))}),e&&(console.log(t),"True"==t?n.fadeOut(400,function(){$("#international_page3").fadeIn()}):n.fadeOut(400,function(){$("#american_page3").fadeIn()}))});return $("#american-submit").on("click",function(e){$(this).parents(".page3");return $.ajax({type:"post",url:"http://101.201.112.171:8082/web/auth/signup",data:n(),success:function(n){1==n.code||(n.code=0)}}),!1}),$("#international-submit").on("click",function(e){$(this).parents(".page3");$.ajax({type:"post",url:"http://101.201.112.171:8082/web/auth/signup",data:n(),success:function(n){1==n.code||(n.code=0)}})}),!1});