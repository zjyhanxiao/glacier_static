$(document).ready(function(){var n={};n.ui={verdicts:["<span class='fa fa-exclamation-triangle'></span>请设置密码复杂度更高的密码","通过;不过复杂度再高一点,更安全","<span class='fa fa-thumbs-up'></span>安全","<span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span>很安全","<span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span><span class='fa fa-thumbs-up'></span>非常安全!"],showPopover:!0,popoverPlacement:"top"},n.common={onLoad:function(){$("#messages").text("Start typing password")},onKeyUp:function(n,e){if(e.verdictLevel<1){var a=$("#next_button");a.attr("disabled","disabled")}else{var a=$("#next_button");a.removeAttr("disabled")}}},$(":password").pwstrength(n)}),$(document).ready(function(){$(".registration-form .div-group:first").fadeIn("slow"),$('.registration-form input[type="text"], .registration-form input[type="password"], .registration-form textarea').on("focus",function(){$(this).removeClass("input-error")});var n=!1;$("#get_verify").click(function(){var e=$(this);$(this).prop("disabled",!0);var a=$("#id_telephone").val(),t=$("#countries_phone").val(),i=null,r=60;return i=setInterval(function(){$("#get_verify").html(r+"秒后重发"),r--,0==r&&(clearInterval(i),e.prop("disabled",!1),e.html("重新发送"),r=60)},1e3),("China"!=t&&a.length>6||"China"==t&&a.length>=15)&&$.ajax({type:"get",url:"/sendVerifyCode",data:{phone:a},dataType:"json",success:function(e){1==e&&(n=!0),0==e&&alert("")}}),!1}),$(".registration-form #first-page-next-btn").on("click",function(){var e=$(this).parents(".div-group"),a=!0,t=e.find('input[name="phone"]'),i=e.find('input[name="verifyCode"]'),r=e.find('input[type="password"]'),s=e.find('input[name="email"]');t.val().length<6?(t.addClass("input-error"),a=!1,"China"!=$("#countries_phone").val()&&t.val().length<15&&(t.addClass("input-error"),a=!1)):i.val().length<6?(i.addClass("input-error"),a=!1):""==r.val()?(r.addClass("input-error"),a=!1):""==s.val()?(s.addClass("input-error"),a=!1):e.find(".input-error").removeClass("input-error"),e.find('input[name="phone"], input[name="verifyCode"], input[type="password"], input[name="email"]').each(function(){return"China"==$("#countries_phone").val()&&$('input[name="phone"]').val().length<15?($(this).addClass("input-error"),a=!1,!1):"China"!=$("#countries_phone").val()&&$('input[name="phone"]').val().length<6?($(this).addClass("input-error"),a=!1,!1):""==$(this).val()?($(this).addClass("input-error"),a=!1,!1):$('input[name="verifyCode"]').val().length<6?($(this).addClass("input-error"),a=!1,!1):void $(this).removeClass("input-error")}),console.log(n),n?a&&e.fadeOut(400,function(){$("#page1").next().fadeIn()}):alert("请获取手机验证码!")}),$(".registration-form .btn-previous").on("click",function(){$(this).parents("#page2").fadeOut(400,function(){$(this).prev().fadeIn()})}),$(".registration-form #investor-type-next-btn").on("click",function(){var n=$(this).parents("#page2"),e=!0,a=$("input[name=is_international_investor]:checked").val();n.find('input[name="is_international_investor"]').each(function(){$('input[name="is_international_investor"]').is(":checked")?$(this).removeClass("input-error"):($(this).addClass("input-error"),e=!1,$(".error-div").html("<div class='alert alert-warning'>请选择您的投资者类型</div>"))}),e&&(console.log(a),"True"==a?n.fadeOut(400,function(){$("#international_page3").fadeIn()}):n.fadeOut(400,function(){$("#american_page3").fadeIn()}))}),$(".registration-form .btn-previous").on("click",function(){$(this).parents(".page3").fadeOut(400,function(){$("#page2").fadeIn()})}),$("#american-submit").on("click",function(n){var e=$(this).parents(".page3");e.find('input[name="questionaire_answer"]').each(function(){$('input[name="american-agree"]').is(":checked")?$('input[name="questionaire_answer"]').is(":checked")?$(this).removeClass("input-error"):(n.preventDefault(),$(this).addClass("input-error"),$("#page3-error-div").html("<div class='alert alert-warning'>请选择您的投资者条件</div>")):(n.preventDefault(),$(this).addClass("input-error"),$("#page3-error-div").html("<div class='alert alert-warning'>请同意网站的使用条款和隐私协议</div>"))})}),$("#international-submit").on("click",function(n){$(this).parents(".page3");$('input[name="international-agree"]').is(":checked")?$(this).removeClass("input-error"):(n.preventDefault(),$(this).addClass("input-error"),$("#international-page3-error-div").html("<div class='alert alert-warning'>请同意网站的使用条款和隐私协议</div>"))})});