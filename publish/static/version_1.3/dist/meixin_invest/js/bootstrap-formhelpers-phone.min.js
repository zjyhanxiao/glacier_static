+function(t){"use strict";function e(t,e){var n,o,a,r;for(n="",e=String(e).replace(/\D/g,""),o=0,a=0;o<t.length;o+=1)/\d/g.test(t.charAt(o))?t.charAt(o)===e.charAt(a)?(n+=e.charAt(a),a+=1):n+=t.charAt(o):"d"!==t.charAt(o)?""===e.charAt(a)&&"+"!==t.charAt(o)||(n+=t.charAt(o)):""===e.charAt(a)?n+="":(n+=e.charAt(a),a+=1);return r=t.charAt(n.length),"d"!==r&&(n+=r),n}function n(t){var e,n=0;return document.selection?(t.focus(),e=document.selection.createRange(),e.moveStart("character",-t.value.length),n=e.text.length):(t.selectionStart||0===t.selectionStart)&&(n=t.selectionStart),n}function o(t,e){var n;document.selection?(t.focus(),n=document.selection.createRange(),n.moveStart("character",-t.value.length),n.moveStart("character",e),n.moveEnd("character",0),n.select()):(t.selectionStart||0===t.selectionStart)&&(t.selectionStart=e,t.selectionEnd=e,t.focus())}var a=function(e,n){this.options=t.extend({},t.fn.bfhphone.defaults,n),this.$element=t(e),(this.$element.is('input[type="text"]')||this.$element.is('input[type="tel"]'))&&this.addFormatter(),this.$element.is("span")&&this.displayFormatter()};a.prototype={constructor:a,addFormatter:function(){var e;""!==this.options.country&&(e=t(document).find("#"+this.options.country),0!==e.length?(this.options.format=BFHPhoneFormatList[e.val()],e.on("change",{phone:this},this.changeCountry)):this.options.format=BFHPhoneFormatList[this.options.country]),this.$element.on("keyup.bfhphone.data-api",a.prototype.change),this.loadFormatter()},loadFormatter:function(){var t;t=e(this.options.format,this.$element.val()),this.$element.val(t)},displayFormatter:function(){var t;""!==this.options.country&&(this.options.format=BFHPhoneFormatList[this.options.country]),t=e(this.options.format,this.options.number),this.$element.html(t)},changeCountry:function(e){var n,o;n=t(this),o=e.data.phone,o.$element.val(String(o.$element.val()).replace(/\+\d*/g,"")),o.options.format=BFHPhoneFormatList[n.val()],o.loadFormatter()},change:function(a){var r,h,i,s;return r=t(this).data("bfhphone"),!(!r.$element.is(".disabled")&&void 0===r.$element.attr("disabled"))||(h=n(r.$element[0]),i=!1,h===r.$element.val().length&&(i=!0),8===a.which&&"d"!==r.options.format.charAt(r.$element.val().length)&&r.$element.val(String(r.$element.val()).substring(0,r.$element.val().length-1)),s=e(r.options.format,r.$element.val()),s===r.$element.val()||(r.$element.val(s),i&&(h=r.$element.val().length),o(r.$element[0],h),!0))}};var r=t.fn.bfhphone;t.fn.bfhphone=function(e){return this.each(function(){var n,o,r;n=t(this),o=n.data("bfhphone"),r="object"==typeof e&&e,o||n.data("bfhphone",o=new a(this,r)),"string"==typeof e&&o[e].call(n)})},t.fn.bfhphone.Constructor=a,t.fn.bfhphone.defaults={format:"",number:"",country:""},t.fn.bfhphone.noConflict=function(){return t.fn.bfhphone=r,this},t(document).ready(function(){t('form input[type="text"].bfh-phone, form input[type="tel"].bfh-phone, span.bfh-phone').each(function(){var e;e=t(this),e.bfhphone(e.data())})})}(window.jQuery);