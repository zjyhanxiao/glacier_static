+function(t){"use strict";function e(t,e){return new Date(e,t,0).getDate()}function a(t,e,a){return new Date(e,t,a).getDay()}function i(t,e,a,i){return e+=1,e=String(e),i=String(i),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),t.replace("m",e).replace("y",a).replace("d",i)}function n(t,e,a){var i,n,r;i=[{part:"m",position:t.indexOf("m")},{part:"y",position:t.indexOf("y")},{part:"d",position:t.indexOf("d")}],i.sort(function(t,e){return t.position-e.position}),r=e.match(/(\d+)/g);for(n in i)if(i.hasOwnProperty(n)&&i[n].part===a)return Number(r[n]).toString()}function r(){var e;t(o).each(function(a){return e=d(t(this)),!e.hasClass("open")||(e.trigger(a=t.Event("hide.bfhdatepicker")),!!a.isDefaultPrevented()||void e.removeClass("open").trigger("hidden.bfhdatepicker"))})}function d(t){return t.closest(".bfh-datepicker")}var o="[data-toggle=bfh-datepicker]",h=function(e,a){this.options=t.extend({},t.fn.bfhdatepicker.defaults,a),this.$element=t(e),this.initCalendar()};h.prototype={constructor:h,setDate:function(){var t,e,a;t=this.options.date,a=this.options.format,""===t||"today"===t||void 0===t?(e=new Date,"today"===t&&this.$element.val(i(a,e.getMonth(),e.getFullYear(),e.getDate())),this.$element.data("month",e.getMonth()),this.$element.data("year",e.getFullYear())):(this.$element.val(t),this.$element.data("month",Number(n(a,t,"m")-1)),this.$element.data("year",Number(n(a,t,"y"))))},setDateLimit:function(t,e){var a,i;i=this.options.format,""!==t?(this.$element.data(e+"limit",!0),"today"===t?(a=new Date,this.$element.data(e+"day",a.getDate()),this.$element.data(e+"month",a.getMonth()),this.$element.data(e+"year",a.getFullYear())):(this.$element.data(e+"day",Number(n(i,t,"d"))),this.$element.data(e+"month",Number(n(i,t,"m")-1)),this.$element.data(e+"year",Number(n(i,t,"y"))))):this.$element.data(e+"limit",!1)},initCalendar:function(){var t,e,a;t="",e="",a="",""!==this.options.icon&&("right"===this.options.align?e='<span class="input-group-addon"><i class="'+this.options.icon+'"></i></span>':t='<span class="input-group-addon"><i class="'+this.options.icon+'"></i></span>',a="input-group"),this.$element.html('<div class="'+a+' bfh-datepicker-toggle" data-toggle="bfh-datepicker">'+t+'<input type="text" name="'+this.options.name+'" class="'+this.options.input+'" placeholder="'+this.options.placeholder+'" readonly>'+e+'</div><div class="bfh-datepicker-calendar"><table class="calendar table table-bordered"><thead><tr class="months-header"><th class="month" colspan="4"><a class="previous" href="#"><i class="glyphicon glyphicon-chevron-left"></i></a><span></span><a class="next" href="#"><i class="glyphicon glyphicon-chevron-right"></i></a></th><th class="year" colspan="3"><a class="previous" href="#"><i class="glyphicon glyphicon-chevron-left"></i></a><span></span><a class="next" href="#"><i class="glyphicon glyphicon-chevron-right"></i></a></th></tr><tr class="days-header"></tr></thead><tbody></tbody></table></div>'),this.$element.on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",o,h.prototype.toggle).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .month > .previous",h.prototype.previousMonth).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .month > .next",h.prototype.nextMonth).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .year > .previous",h.prototype.previousYear).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar .year > .next",h.prototype.nextYear).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar td:not(.off)",h.prototype.select).on("click.bfhdatepicker.data-api touchstart.bfhdatepicker.data-api",".bfh-datepicker-calendar > table.calendar",function(){return!1}),this.setDate(),this.setDateLimit(this.options.min,"lower"),this.setDateLimit(this.options.max,"higher"),this.updateCalendar()},updateCalendarHeader:function(t,e,a){var i,n;for(t.find("table > thead > tr > th.month > span").text(BFHMonthsList[e]),t.find("table > thead > tr > th.year > span").text(a),i=t.find("table > thead > tr.days-header"),i.html(""),n=BFHDayOfWeekStart;n<BFHDaysList.length;n+=1)i.append("<th>"+BFHDaysList[n]+"</th>");for(n=0;n<BFHDayOfWeekStart;n+=1)i.append("<th>"+BFHDaysList[n]+"</th>")},checkMinDate:function(t,e,a){var i,n,r,d;return i=this.$element.data("lowerlimit"),i===!0&&(n=this.$element.data("lowerday"),r=this.$element.data("lowermonth"),d=this.$element.data("loweryear"),t<n&&e===r&&a===d||e<r&&a===d||a<d)},checkMaxDate:function(t,e,a){var i,n,r,d;return i=this.$element.data("higherlimit"),i===!0&&(n=this.$element.data("higherday"),r=this.$element.data("highermonth"),d=this.$element.data("higheryear"),t>n&&e===r&&a===d||e>r&&a===d||a>d)},checkToday:function(t,e,a){var i;return i=new Date,t===i.getDate()&&e===i.getMonth()&&a===i.getFullYear()},updateCalendarDays:function(t,i,n){var r,d,o,h,s,c,l;for(r=t.find("table > tbody").html(""),d=e(i,n),o=e(i+1,n),h=a(i,n,1),s=a(i,n,o),c="",l=0;l<(h-BFHDayOfWeekStart+7)%7;l+=1)c+='<td class="off">'+(d-(h-BFHDayOfWeekStart+7)%7+l+1)+"</td>";for(l=1;l<=o;l+=1)c+=this.checkMinDate(l,i,n)?'<td data-day="'+l+'" class="off">'+l+"</td>":this.checkMaxDate(l,i,n)?'<td data-day="'+l+'" class="off">'+l+"</td>":this.checkToday(l,i,n)?'<td data-day="'+l+'" class="today">'+l+"</td>":'<td data-day="'+l+'">'+l+"</td>",a(i,n,l)===(6+BFHDayOfWeekStart)%7&&(r.append("<tr>"+c+"</tr>"),c="");for(l=1;l<=(7-(s+1-BFHDayOfWeekStart+7)%7)%7+1;l+=1)c+='<td class="off">'+l+"</td>",l===(7-(s+1-BFHDayOfWeekStart+7)%7)%7&&r.append("<tr>"+c+"</tr>")},updateCalendar:function(){var t,e,a;t=this.$element.find(".bfh-datepicker-calendar"),e=this.$element.data("month"),a=this.$element.data("year"),this.updateCalendarHeader(t,e,a),this.updateCalendarDays(t,e,a)},previousMonth:function(){var e,a,i;return e=t(this),a=d(e),0===Number(a.data("month"))?(a.data("month",11),a.data("year",Number(a.data("year"))-1)):a.data("month",Number(a.data("month"))-1),i=a.data("bfhdatepicker"),i.updateCalendar(),!1},nextMonth:function(){var e,a,i;return e=t(this),a=d(e),11===Number(a.data("month"))?(a.data("month",0),a.data("year",Number(a.data("year"))+1)):a.data("month",Number(a.data("month"))+1),i=a.data("bfhdatepicker"),i.updateCalendar(),!1},previousYear:function(){var e,a,i;return e=t(this),a=d(e),a.data("year",Number(a.data("year"))-1),i=a.data("bfhdatepicker"),i.updateCalendar(),!1},nextYear:function(){var e,a,i;return e=t(this),a=d(e),a.data("year",Number(a.data("year"))+1),i=a.data("bfhdatepicker"),i.updateCalendar(),!1},select:function(e){var a,n,o,h,s,c;a=t(this),e.preventDefault(),e.stopPropagation(),n=d(a),o=n.data("bfhdatepicker"),h=n.data("month"),s=n.data("year"),c=a.data("day"),n.val(i(o.options.format,h,s,c)),n.trigger("change.bfhdatepicker"),o.options.close===!0&&r()},toggle:function(e){var a,i,n;if(a=t(this),i=d(a),i.is(".disabled")||void 0!==i.attr("disabled"))return!0;if(n=i.hasClass("open"),r(),!n){if(i.trigger(e=t.Event("show.bfhdatepicker")),e.isDefaultPrevented())return!0;i.toggleClass("open").trigger("shown.bfhdatepicker"),a.focus()}return!1}};var s=t.fn.bfhdatepicker;t.fn.bfhdatepicker=function(e){return this.each(function(){var a,i,n;a=t(this),i=a.data("bfhdatepicker"),n="object"==typeof e&&e,this.type="bfhdatepicker",i||a.data("bfhdatepicker",i=new h(this,n)),"string"==typeof e&&i[e].call(a)})},t.fn.bfhdatepicker.Constructor=h,t.fn.bfhdatepicker.defaults={icon:"glyphicon glyphicon-calendar",align:"left",input:"form-control",placeholder:"",name:"",date:"today",format:"m/d/y",min:"",max:"",close:!0},t.fn.bfhdatepicker.noConflict=function(){return t.fn.bfhdatepicker=s,this};var c;t.valHooks.div&&(c=t.valHooks.div),t.valHooks.div={get:function(e){return t(e).hasClass("bfh-datepicker")?t(e).find('input[type="text"]').val():c?c.get(e):void 0},set:function(e,a){if(t(e).hasClass("bfh-datepicker"))t(e).find('input[type="text"]').val(a);else if(c)return c.set(e,a)}},t(document).ready(function(){t("div.bfh-datepicker").each(function(){var e;e=t(this),e.bfhdatepicker(e.data())})}),t(document).on("click.bfhdatepicker.data-api",r)}(window.jQuery);